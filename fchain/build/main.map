{"version":3,"sources":["webpack:///webpack/bootstrap 6d99b7a37e06ac41919b","webpack:///./server/common/logger.js","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///./server/blockchain/hlf-client.js","webpack:///external \"log4js\"","webpack:///external \"fabric-client\"","webpack:///external \"util\"","webpack:///./server/index.js","webpack:///./server/common/env.js","webpack:///external \"dotenv\"","webpack:///./server/common/server.js","webpack:///external \"body-parser\"","webpack:///external \"http\"","webpack:///external \"os\"","webpack:///external \"cookie-parser\"","webpack:///./server/common/swagger/index.js","webpack:///external \"swagger-express-middleware\"","webpack:///external \"pino\"","webpack:///./server/blockchain/common/member.js","webpack:///./server/common/hlf/config.js","webpack:///./server/routes.js","webpack:///./server/api/controllers/examples/router.js","webpack:///./server/api/controllers/examples/controller.js","webpack:///./server/api/services/examples.service.js","webpack:///./server/api/services/examples.db.service.js","webpack:///./server/api/controllers/fchain/router.js","webpack:///./server/api/controllers/fchain/controller.js","webpack:///./server/api/services/fchain/fchain.service.js","webpack:///./server/blockchain/transaction/transaction.js"],"names":["l","name","process","env","APP_ID","level","LOG_LEVEL","log4js","require","logger","getLogger","hfc","member","setLevel","setLogger","HlfClient","constructor","_hfc","_orgs","_stateStore","_cryptoSuite","setClient","loadFromConfig","getConfigSetting","_network_config","organizations","_setFSKeyValueStore","_checkAdminClient","orgs","orgArr","Object","keys","forEach","orgName","_initCredentialStores","client","clientConfig","getClientConfig","newDefaultKeyValueStore","credentialStore","then","store","setStateStore","newCryptoKeyStore","cryptoStore","cryptoKeyStore","cryptoSuite","newCryptoSuite","setCryptoKeyStore","setCryptoSuite","Promise","resolve","isAdmin","_setupAdminAccount","organizationConfig","getOrganization","initCredentialStores","mspId","getMspid","adminKey","getAdminPrivateKey","adminCert","getAdminCert","createAdmin","getAdminClientForOrg","reject","getAdminContext","Error","hlfClient","module","exports","Server","router","routes","listen","PORT","dotenv","config","path","bodyParser","http","os","hlf","app","Express","ExpressServer","root","normalize","__dirname","set","use","json","urlencoded","extended","SESSION_SECRET","static","port","welcome","p","info","hostname","createServer","join","err","mw","enable","metadata","files","caseSensitive","strict","useBasePath","apiPath","SWAGGER_API_SPEC","parseRequest","cookie","secret","limit","REQUEST_LIMIT","CORS","validateRequest","req","res","next","status","send","message","getUserContext","user","isEnrolled","_name","catch","createUser","username","mspid","cryptoContent","privateKeyPEM","signedCertPEM","util","file","TARGET_NETWORK","format","setConfigSetting","addConfigFile","examplesRouter","fchainRouter","express","Router","post","controller","create","get","all","test","hello","byId","Controller","ExamplesService","r","params","id","end","body","location","db","debug","insert","ExamplesDatabase","_data","_counter","record","push","getObject","delete","addDocument","addEvidence","FchainService","transaction","args","queryChainCode","peers","EvidenceId","RegisterId","Description","CaseId","Hash","RegisterTime","invokeChainCode","DocumentId","DocumentType","WriterId","WriteTime","TrxClient","peer","channelName","chaincodeName","fcn","channel","getChannel","error","request","chaincodeId","responsePayLoads","queryByChaincode","i","length","toString","stack","peerNames","errorMsg","txIdString","txId","newTransactionID","getTransactionID","targets","chainId","JSON","stringify","results","sendTransactionProposal","proposalResponses","proposal","allGood","response","payload","endorsement","signature","oneGood","promises","eventHubs","getChannelEventHubsForOrg","eh","invokeEventPromise","ehTimeOut","setTimeout","getPeerAddr","disconnect","registerTxEvent","tx","code","blockNum","clearTimeout","unregister","connect","ordererReq","sendPromise","sendTransaction","pop","ehResult","trxClient"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6d99b7a37e06ac41919b","import pino from 'pino';\n\nconst l = pino({\n  name: process.env.APP_ID,\n  level: process.env.LOG_LEVEL,\n});\n\nexport default l;\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/logger.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","/* eslint-disable prefer-destructuring */\n\nconst log4js = require('log4js');\n\nconst logger = log4js.getLogger('HLF');\nconst hfc = require('fabric-client');\nconst member = require('./common/member.js');\n\nlogger.setLevel('DEBUG');\nhfc.setLogger(logger);\n\nclass HlfClient {\n  constructor() {\n    this._hfc = null;\n    this._orgs = null;\n    this._stateStore = {};\n    this._cryptoSuite = {};\n  }\n\n  setClient() {\n    this._hfc = hfc.loadFromConfig(hfc.getConfigSetting('network-connection-profile-path'));\n    this._orgs = this._hfc._network_config._network_config.organizations;\n    this._setFSKeyValueStore(this._orgs);\n    this._checkAdminClient(this._orgs);\n  }\n\n  _setFSKeyValueStore(orgs) {\n    const orgArr = Object.keys(orgs);\n    orgArr.forEach(async orgName => {\n      this._hfc.loadFromConfig(hfc.getConfigSetting(`${orgName}-connection-profile-path`));\n      await this._initCredentialStores(this._hfc, orgName);\n    });\n  }\n\n  async _initCredentialStores(client, orgName) {\n    const clientConfig = client._network_config.getClientConfig();\n    return hfc.newDefaultKeyValueStore(clientConfig.credentialStore)\n      .then(store => {\n        client.setStateStore(store);\n        this._stateStore[orgName] = store;\n        return hfc.newCryptoKeyStore(clientConfig.credentialStore.cryptoStore);\n      })\n      .then(cryptoKeyStore => {\n        const cryptoSuite = hfc.newCryptoSuite();\n        cryptoSuite.setCryptoKeyStore(cryptoKeyStore);\n        client.setCryptoSuite(cryptoSuite);\n        this._cryptoSuite[orgName] = cryptoSuite;\n        return Promise.resolve();\n      });\n  }\n\n  _checkAdminClient(orgs) {\n    const isAdmin = hfc.getConfigSetting('isAdminClient');\n    const orgArr = Object.keys(orgs);\n\n    if (isAdmin === 'true') {\n      orgArr.forEach(async orgName => {\n        await this._setupAdminAccount(orgName);\n      });\n    }\n  }\n\n  async _setupAdminAccount(orgName) {\n    const organizationConfig = this._hfc._network_config.getOrganization(orgName, true);\n\n    const client = new hfc();\n    client.loadFromConfig(hfc.getConfigSetting(`${orgName}-connection-profile-path`));\n    await client.initCredentialStores();\n\n    const mspId = organizationConfig.getMspid();\n    const adminKey = organizationConfig.getAdminPrivateKey();\n    const adminCert = organizationConfig.getAdminCert();\n\n    await member.createAdmin(client, mspId, adminKey, adminCert);\n  }\n\n  getAdminClientForOrg(orgName) {\n    return new Promise(async (resolve, reject) => {\n      if (this._hfc) {\n        this._hfc.loadFromConfig(hfc.getConfigSetting(`${orgName}-connection-profile-path`));\n        this._hfc.setStateStore(this._stateStore[orgName]);\n        this._hfc.setCryptoSuite(this._cryptoSuite[orgName]);\n        const organizationConfig = this._hfc._network_config.getOrganization(orgName, true);\n        const mspId = organizationConfig.getMspid();\n        await member.getAdminContext(this._hfc, mspId);\n        resolve(this._hfc);\n      } else {\n        reject(new Error('Failed to Get Admin Client'));\n      }\n    });\n  }\n}\n\nconst hlfClient = new HlfClient();\nmodule.exports = hlfClient;\n\n\n\n// WEBPACK FOOTER //\n// ./server/blockchain/hlf-client.js","module.exports = require(\"log4js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"log4js\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"fabric-client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fabric-client\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 6\n// module chunks = 0","import './common/env';\nimport Server from './common/server';\nimport routes from './routes';\n\nexport default new Server()\n  .router(routes)\n  .listen(process.env.PORT);\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","import dotenv from 'dotenv';\n\ndotenv.config();\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/env.js","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 10\n// module chunks = 0","/**\n * Copyright 2018 (주)KT All Rights Reserved.\n *\n *\n */\n\nimport Express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as http from 'http';\nimport * as os from 'os';\nimport cookieParser from 'cookie-parser';\nimport swaggerify from './swagger';\nimport l from './logger';\n\nconst hlf = require('../blockchain/hlf-client');\nrequire('./hlf/config.js');\n\nconst app = new Express();\n\nexport default class ExpressServer {\n  constructor() {\n    const root = path.normalize(`${__dirname}/../..`);\n    app.set('appPath', `${root}client`);\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    app.use(cookieParser(process.env.SESSION_SECRET));\n    app.use(Express.static(`${root}/public`));\n\n    hlf.setClient();\n  }\n\n  router(routes) {\n    swaggerify(app, routes);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    const welcome = p => () => l.info(`up and running in ${process.env.NODE_ENV || 'development'} @: ${os.hostname()} on port: ${p}}`);\n    http.createServer(app).listen(port, welcome(port));\n    return app;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/server.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 15\n// module chunks = 0","import middleware from 'swagger-express-middleware';\nimport * as path from 'path';\n\nexport default function (app, routes) {\n  middleware(path.join(__dirname, 'Api.yaml'), app, (err, mw) => {\n    // Enable Express' case-sensitive and strict options\n    // (so \"/entities\", \"/Entities\", and \"/Entities/\" are all different)\n    app.enable('case sensitive routing');\n    app.enable('strict routing');\n\n    app.use(mw.metadata());\n    app.use(mw.files({\n      // Override the Express App's case-sensitive \n      // and strict-routing settings for the Files middleware.\n      caseSensitive: false,\n      strict: false,\n    }, {\n      useBasePath: true,\n      apiPath: process.env.SWAGGER_API_SPEC,\n      // Disable serving the \"Api.yaml\" file\n      // rawFilesPath: false\n    }));\n\n    app.use(mw.parseRequest({\n      // Configure the cookie parser to use secure cookies\n      cookie: {\n        secret: process.env.SESSION_SECRET,\n      },\n      // Don't allow JSON content over 100kb (default is 1mb)\n      json: {\n        limit: process.env.REQUEST_LIMIT,\n      },\n    }));\n\n    // These two middleware don't have any options (yet)\n    app.use(\n      mw.CORS(),\n      mw.validateRequest());\n\n    // Error handler to display the validation error as HTML\n    app.use((err, req, res, next) => { // eslint-disable-line no-unused-vars, no-shadow\n      res.status(err.status || 500);\n      res.send(\n        `<h1>${err.status || 500} Error</h1>` +\n        `<pre>${err.message}</pre>`);\n    });\n\n    routes(app);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/swagger/index.js","module.exports = require(\"swagger-express-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"swagger-express-middleware\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"pino\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pino\"\n// module id = 18\n// module chunks = 0","/**\n *\n * Copyright 2018 KT All Rights Reserved.\n *\n */\n\nimport l from '../../common/logger';\n\nfunction getAdminContext(client, mspId) {\n  return client.getUserContext(`${mspId}Admin`, true)\n    .then(user => new Promise((resolve, reject) => {\n      if (user && user.isEnrolled()) {\n        l.info(`Successfully loaded ${user._name} from persistence`);\n        return resolve(user);\n      }\n      /*\n          Refactor-Me: user 가 없을 경우 예외처리 필요.\n       */\n    }))\n    .catch(err => Promise.reject(new Error(`Failed to Get Admin member from persistence : ${err}`)));\n}\nmodule.exports.getAdminContext = getAdminContext;\n\nfunction createAdmin(client, mspId, adminKey, adminCert) {\n  return client.getUserContext(`${mspId}Admin`, true)\n    .then(user => new Promise((resolve, reject) => {\n      if (user && user.isEnrolled()) {\n        l.info(`Successfully loaded ${user._name} from persistence`);\n        return resolve(user);\n      }\n\n      return resolve(client.createUser({\n        username: `${mspId}Admin`,\n        mspid: mspId,\n        cryptoContent: {\n          privateKeyPEM: adminKey,\n          signedCertPEM: adminCert,\n        },\n      }));\n    }))\n    .catch(err => Promise.reject(new Error(`Failed to create member from cert : ${err}`)));\n}\nmodule.exports.createAdmin = createAdmin;\n\n\n\n// WEBPACK FOOTER //\n// ./server/blockchain/common/member.js","const util = require('util');\nconst path = require('path');\nconst hfc = require('fabric-client');\n\nlet file = 'network-config%s.yaml';\n\nconst env = process.env.TARGET_NETWORK;\nif (env) { file = util.format(file, `-${env}`); } else { file = util.format(file, ''); }\n\nhfc.setConfigSetting('network-connection-profile-path', path.join(__dirname, 'connection-profile', file));\n\n// eslint-disable-next-line eqeqeq\nif (env == 'first_network') {\n  hfc.setConfigSetting('Org1-connection-profile-path', path.join(__dirname, 'connection-profile', `org1-${env}.yaml`));\n  hfc.setConfigSetting('Org2-connection-profile-path', path.join(__dirname, 'connection-profile', `org1-${env}.yaml`));\n} else {\n  hfc.setConfigSetting('Org1-connection-profile-path', path.join(__dirname, 'connection-profile', `org1-${env}.yaml`));\n  hfc.setConfigSetting('Org2-connection-profile-path', path.join(__dirname, 'connection-profile', `org2-${env}.yaml`));\n}\nhfc.addConfigFile(path.join(__dirname, 'config.json'));\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/hlf/config.js","import examplesRouter from './api/controllers/examples/router';\nimport fchainRouter from './api/controllers/fchain/router';\n\nexport default function routes(app) {\n  app.use('/api/v1/examples', examplesRouter);\n  app.use('/api/v1/fchain', fchainRouter);\n\t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","import * as express from 'express';\nimport controller from './controller';\n\n\n\nexport default express\n  .Router()\n  .post('/', controller.create)\n  .get('/', controller.all)\n  .get('/test', controller.test)\n  .get('/hello',controller.hello)\n  .get('/:id', controller.byId);\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/router.js","import ExamplesService from '../../services/examples.service';\n\nexport class Controller {\n  all(req, res) {\n    ExamplesService.all()\n      .then(r => res.json(r));\n  }\n\n  test(req, res) {\n    ExamplesService.test(req, res)\n      .then(r => res.json(r));\n  }\n\n  hello(req, res) {\n    ExamplesService.hello(req, res)\n      .then(r => res.json(r));\n  }\n\n  byId(req, res) {\n    ExamplesService\n      .byId(req.params.id)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n\n  create(req, res) {\n    ExamplesService\n      .create(req.body.name)\n      .then(r => res\n        .status(201)\n        .location(`/api/v1/examples/${r.id}`)\n        .json(r));\n  }\n}\n\nexport default new Controller();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/controller.js","import l from '../../common/logger';\nimport db from './examples.db.service';\n\nclass ExamplesService {\n  all() {\n    l.info(`${this.constructor.name}.all()`);\n    return db.all();\n  }\n\n  byId(id) {\n    l.debug('hello world!!!!');\n    l.info(`${this.constructor.name}.byId(${id})`);\n    return db.byId(id);\n  }\n\n  create(name) {\n    return db.insert(name);\n  }\n}\n\nexport default new ExamplesService();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/examples.service.js","class ExamplesDatabase {\n  constructor() {\n    this._data = [];\n    this._counter = 0;\n\n    this.insert('example 0');\n    this.insert('example 1');\n  }\n\n  all() {\n    return Promise.resolve(this._data);\n  }\n\n  byId(id) {\n    return Promise.resolve(this._data[id]);\n  }\n\n  insert(name) {\n    const record = {\n      id: this._counter,\n      name,\n    };\n\n    this._counter += 1;\n    this._data.push(record);\n\n    return Promise.resolve(record);\n  }\n}\n\nexport default new ExamplesDatabase();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/examples.db.service.js","import * as express from 'express';\nimport controller from './controller';\n\nexport default express\n  .Router()\n  .get('/getobject', controller.getObject)\n  .get('/delete', controller.delete)\n  .post('/addDocument', controller.addDocument)\n  .post('/addEvidence', controller.addEvidence);\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/fchain/router.js","import FchainService from '../../services/fchain/fchain.service';\n\nexport class Controller {\n  getObject(req, res) {\n    FchainService\n      .getObject(req, res)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n\n  delete(req, res) {\n    FchainService\n      .delete(req, res)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n\n  addEvidence(req, res) {\n    FchainService\n      .addEvidence(req, res)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n\n  addDocument(req, res) {\n    FchainService\n      .addDocument(req, res)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n}\nexport default new Controller();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/fchain/controller.js","import l from '../../../common/logger';\n\nconst transaction = require('../../../blockchain/transaction/transaction');\n\nclass FchainService {\n  getObject(req, res) {\n    const args = [];\n\n    args.push(req.params.id);\n    return Promise.resolve(transaction.queryChainCode(null, 'fchannel', 'fchain',\n      args, 'query', 'admin', 'Org1'));\n  }\n\n  delete(req, res) {\n    const args = [];\n\n    args.push(req.params.id);\n    return Promise.resolve(transaction.queryChainCode(null, 'fchannel', 'fchain',\n        args, 'delete', 'admin', 'Org1'));\n  }\n\n  addEvidence(req, res) {\n    l.info(`${this.constructor.name}.byId(${req})`);\n    const args = [];\n    const peers = [];\n\n    //args.push(req.body.balance.toString());\n\n    args.push(req.body.EvidenceId);\n    args.push(req.body.RegisterId);\n    args.push(req.body.Description);\n    args.push(req.body.CaseId);\n    args.push(req.body.Hash);\n    args.push(req.body.RegisterTime);\n\n    peers.push('p0.org1.fchain.com');\n    /*peers.push('p1.org1.fchain.com');\n    peers.push('p0.org2.fchain.com');\n    peers.push('p1.org2.fchain.com');\n    peers.push('p0.org3.fchain.com');\n    peers.push('p1.org3.fchain.com');*/\n\n    l.debug(`invoke peers:${peers}`);\n    return Promise.resolve(transaction.invokeChainCode(peers, 'fchannel', 'fchain',\n      'addEvidence', args, 'admin', 'Org1'));\n  }\n\n  addDocument(req, res) {\n    l.info(`${this.constructor.name}.byId(${req})`);\n    const args = [];\n    const peers = [];\n\n    //args.push(req.body.balance.toString());\n\n    args.push(req.body.DocumentId);\n    args.push(req.body.DocumentType);\n    args.push(req.body.WriterId);\n    args.push(req.body.WriteTime);\n    args.push(req.body.Description);\n    args.push(req.body.CaseId);\n    args.push(req.body.Hash);\n\n    peers.push('p0.org1.fchain.com');\n    /*peers.push('p1.org1.fchain.com');\n    peers.push('p0.org2.fchain.com');\n    peers.push('p1.org2.fchain.com');\n    peers.push('p0.org3.fchain.com');\n    peers.push('p1.org3.fchain.com');*/\n\n    l.debug(`invoke peers:${peers}`);\n    return Promise.resolve(transaction.invokeChainCode(peers, 'fchannel', 'fchain',\n        'addDocument', args, 'admin', 'Org1'));\n  }\n}\n\nexport default new FchainService();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/fchain/fchain.service.js","/* eslint-disable prefer-destructuring */\n\nconst log4js = require('log4js');\n\nconst logger = log4js.getLogger('Transaction');\nlogger.setLevel('DEBUG');\n\nconst util = require('util');\nconst hlf = require('../hlf-client');\n\nclass TrxClient {\n  async queryChainCode(peer, channelName, chaincodeName, args, fcn, username, orgName) {\n    try {\n      const client = await hlf.getAdminClientForOrg(orgName);\n      logger.debug('Successfully got the fabric client for the organization \"%s\"', orgName);\n      const channel = client.getChannel(channelName);\n      if (!channel) {\n        const message = util.format('Channel %s was not defined in the connection profile', channelName);\n        logger.error(message);\n        throw new Error(message);\n      }\n\n      // send query\n      const request = {\n        // targets: [peer], // queryByChaincode allows for multiple targets\n        chaincodeId: chaincodeName,\n        fcn,\n        args,\n      };\n      const responsePayLoads = await channel.queryByChaincode(request);\n      if (responsePayLoads) {\n        for (let i = 0; i < responsePayLoads.length; i++) {\n          logger.info(`${args[0]} now has ${responsePayLoads[i].toString('utf8')\n          } after the move`);\n        }\n        return `${args[0]} now has ${responsePayLoads[0].toString('utf8')\n        } after the move`;\n      }\n      logger.error('responsePayLoads is null');\n      return 'responsePayLoads is null';\n    } catch (error) {\n      logger.error(`Failed to query due to error: ${error.stack}` ? error.stack : error);\n      return error.toString();\n    }\n  }\n\n  async invokeChainCode(peerNames, channelName, chaincodeName, fcn, args, username, orgName) {\n    logger.debug(util.format('\\n============ invoke transaction on channel %s ============\\n', channelName));\n    let errorMsg = null;\n    let txIdString = null;\n    try {\n      // first setup the client for this org\n      const client = await hlf.getAdminClientForOrg(orgName);\n      logger.debug('Successfully got the fabric client for the organization \"%s\"', orgName);\n      const channel = client.getChannel(channelName);\n      if (!channel) {\n        const message = util.format('Channel %s was not defined in the connection profile', channelName);\n        logger.error(message);\n        throw new Error(message);\n      }\n      const txId = client.newTransactionID();\n      // will need the transaction ID string for the event registration later\n      txIdString = txId.getTransactionID();\n\n      // send proposal to endorser\n      const request = {\n        targets: peerNames,\n        chaincodeId: chaincodeName,\n        fcn,\n        args,\n        chainId: channelName,\n        txId,\n      };\n      logger.debug('request:' + JSON.stringify(request));\n\n      const results = await channel.sendTransactionProposal(request);\n\n      // the returned object has both the endorsement results\n      // and the actual proposal, the proposal will be needed\n      // later when we send a transaction to the orderer\n      const proposalResponses = results[0];\n      const proposal = results[1];\n\n      // lets have a look at the responses to see if they are\n      // all good, if good they will also include signatures\n      // required to be committed\n      let allGood = true;\n      for (const i in proposalResponses) {\n        logger.info(util.format(\n          'AAAA sent Proposal and received ProposalResponse: Status - %s, message - \"%s\", metadata - \"%s\", endorsement signature: %s',\n          proposalResponses[0].response.status, proposalResponses[0].response.message,\n          proposalResponses[0].response.payload, proposalResponses[0].endorsement.signature));\n\n        let oneGood = false;\n        if (proposalResponses && proposalResponses[i].response &&\n          proposalResponses[i].response.status === 200) {\n          oneGood = true;\n          logger.info('invoke chaincode proposal was good');\n        } else {\n          logger.error(JSON.stringify(proposalResponses));\n          logger.error('invoke chaincode proposal was bad');\n        }\n        allGood = allGood & oneGood;\n      }\n\n      if (allGood) {\n        logger.info(util.format(\n          'Successfully sent Proposal and received ProposalResponse: Status - %s, message - \"%s\", metadata - \"%s\", endorsement signature: %s',\n          proposalResponses[0].response.status, proposalResponses[0].response.message,\n          proposalResponses[0].response.payload, proposalResponses[0].endorsement.signature));\n\n        // wait for the channel-based event hub to tell us\n        // that the commit was good or bad on each peer in our organization\n        const promises = [];\n        const eventHubs = channel.getChannelEventHubsForOrg();\n        eventHubs.forEach(eh => {\n          logger.debug('invokeEventPromise - setting up event');\n          const invokeEventPromise = new Promise((resolve, reject) => {\n            const ehTimeOut = setTimeout(() => {\n              const message = `REQUEST_TIMEOUT:${eh.getPeerAddr()}`;\n              logger.error(message);\n              eh.disconnect();\n            }, 3000);\n            eh.registerTxEvent(txIdString, (tx, code, blockNum) => {\n              logger.info('The chaincode invoke chaincode transaction has been committed on peer %s', eh.getPeerAddr());\n              logger.info('Transaction %s has status of %s in blocl %s', tx, code, blockNum);\n              clearTimeout(ehTimeOut);\n\n              if (code !== 'VALID') {\n                const message = util.format('The invoke chaincode transaction was invalid, code:%s', code);\n                logger.error(message);\n                reject(new Error(message));\n              } else {\n                const message = 'The invoke chaincode transaction was valid.';\n                logger.info(message);\n                resolve(message);\n              }\n            }, err => {\n              clearTimeout(ehTimeOut);\n              logger.error(err);\n              reject(err);\n            },\n              // the default for 'unregister' is true for transaction listeners\n              // so no real need to set here, however for 'disconnect'\n              // the default is false as most event hubs are long running\n              // in this use case we are using it only once\n            { unregister: true, disconnect: false },\n            );\n            eh.connect();\n          });\n          promises.push(invokeEventPromise);\n        });\n\n        const ordererReq = {\n          txId,\n          proposalResponses,\n          proposal,\n        };\n        const sendPromise = channel.sendTransaction(ordererReq);\n        // put the send to the orderer last so that the events get registered and\n        // are ready for the orderering and committing\n        promises.push(sendPromise);\n        const results = await Promise.all(promises);\n        logger.debug(util.format('------->>> R E S P O N S E : %j', results));\n        const response = results.pop(); //  orderer results are last in the results\n        if (response.status === 'SUCCESS') {\n          logger.info('Successfully sent transaction to the orderer.');\n        } else {\n          errorMsg = util.format('Failed to order the transaction. Error code: %s', response.status);\n          logger.debug(errorMsg);\n        }\n\n        // now see what each of the event hubs reported\n        for (const i in results) {\n          const ehResult = results[i];\n          const eh = eventHubs[i];\n          logger.debug('Event results for event hub :%s', eh.getPeerAddr());\n          if (typeof ehResult === 'string') {\n            logger.debug(ehResult);\n          } else {\n            if (!errorMsg) errorMsg = ehResult.toString();\n            logger.debug(ehResult.toString());\n          }\n        }\n      } else {\n        errorMsg = util.format('Failed to send Proposal and receive all good ProposalResponse');\n        logger.debug(errorMsg);\n      }\n    } catch (error) {\n      logger.error(`Failed to invoke due to error: ${error.stack}` ? error.stack : error);\n      errorMsg = error.toString();\n    }\n\n    if (!errorMsg) {\n      const message = util.format(\n        'Successfully invoked the chaincode %s to the channel \\'%s\\' for transaction ID: %s',\n        orgName, channelName, txIdString);\n      logger.info(message);\n\n      return txIdString;\n    }\n    const message = util.format('Failed to invoke chaincode. cause:%s', errorMsg);\n    logger.error(message);\n    throw new Error(message);\n  }\n}\n\nconst trxClient = new TrxClient();\nmodule.exports = trxClient;\n\n\n\n// WEBPACK FOOTER //\n// ./server/blockchain/transaction/transaction.js"],"sourceRoot":""}